import{L as C,l as b,O as E,R as M,u as P,e as v,D as y}from"./stats.module.949be9f2.js";import{S,P as L,T as G,C as I,av as T,a7 as x}from"./vendor.fd21b549.js";import{m as D}from"./makeCommonGUI.6021a0e2.js";const j=[],k=v.Dirlight,e=new C;e.renderWhenOffFocus=!1;e.envMapIntensity=1;e.bounces=3;document.body.appendChild(e.domElement);const l=!0;let c=!1;const{initStats:z,initGUI:R,initCameraDebugInfo:F}=D();e.loadingCallback={onProgress:n=>{console.log(n)},onComplete:n=>{c||R(l,e),c=!0,console.log(n)}};const s=z(l),d=F(l);let p=null,i=null;const a=new S;b(j,a);async function O(){const n="/images/alpha.png",o=await new Promise(w=>{new G().load(n,w)}),r=new y({color:new I(1,1,1),roughness:.5,metalness:0,ior:1.5,map:o}),f=new T(15,128,64),g=new x(f,r);a.add(g)}const t=new L(45,window.innerWidth/window.innerHeight,.001,1e3),m=new E(t,e.domElement);m.screenSpacePanning=!0;async function U(){{const n=new M,o=await new Promise(r=>{n.load(k,r)});a.environment=o}await O(),P(t,m,a),t.position.y=0,t.position.z=45,e.buildScene(a,t).then(()=>{h()})}function u(){if(e.domElement.parentElement){const n=e.domElement.parentElement.clientWidth,o=e.domElement.parentElement.clientHeight;e.setSize(n,o),t.aspect=n/o,t.updateProjectionMatrix()}}window.addEventListener("resize",u);u();function h(n){m.update(),s&&s.begin(),e.render(a,t),s&&s.end(),d&&(i=e.getTotalSamples(),p!=i&&(d.innerText=`Samples: ${i}`,p=i)),requestAnimationFrame(h)}U();
