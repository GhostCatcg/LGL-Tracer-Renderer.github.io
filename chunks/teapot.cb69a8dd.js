import{L as C,l as w,O as L,R as M,a as b,u as S,e as D,g as E,D as P}from"./stats.module.949be9f2.js";import{A as v,S as I,P as T,C as y}from"./vendor.fd21b549.js";import{m as F}from"./makeCommonGUI.6021a0e2.js";const G=[],R=D.Dirlight,j=E.TeapotDraco,e=new C;e.bounces=5;e.renderWhenOffFocus=!0;e.toneMapping=v;e.envMapIntensity=1;e.enableDenoise=!0;e.enableTemporalDenoise=!1;e.enableSpatialDenoise=!0;document.body.appendChild(e.domElement);const s=document.querySelector("#container");function k(n){n?s.classList.contains("isLoading")||s.classList.add("isLoading"):s.classList.contains("isLoading")&&s.classList.remove("isLoading")}const c=!0,{initStats:A,initGUI:x,initCameraDebugInfo:z}=F();e.loadingCallback={onProgress:n=>console.log(n),onComplete:n=>{console.log(n),k(!1),O(),x(c,e)}};const r=A(c),d=z(c);let f=null,l=null;function O(){e.setDenoiseColorFactor(1),e.setDenoisePositionFactor(.15)}const o=new I;w(G,o);const i=new T(45,window.innerWidth/window.innerHeight,.001,1e3),m=new L(i,e.domElement);m.screenSpacePanning=!0;function U(n){const t=new P;t.transmission=1,t.extinction=new y(.015,.5,.4),t.atDistance=.05,t.roughness=.02,n.traverse(a=>{a.isMesh&&a.material&&a.material.isMeshStandardMaterial&&(a.material=t)})}async function W(){{const a=new M,u=await new Promise(h=>{a.load(R,h)});o.environment=u}const t=(await b(j)).scene;U(t),o.add(t),t.rotation.y=-Math.PI/2,S(i,m,o),e.buildScene(o,i).then(()=>{p()})}function g(){if(e.domElement.parentElement){const n=e.domElement.parentElement.clientWidth,t=e.domElement.parentElement.clientHeight;e.setSize(n,t),i.aspect=n/t,i.updateProjectionMatrix()}}window.addEventListener("resize",g);g();function p(n){m.update(),r&&r.begin(),e.render(o,i),r&&r.end(),d&&(l=e.getTotalSamples(),f!=l&&(d.innerText=`Samples: ${l}`,f=l)),requestAnimationFrame(p)}W();
