import{L as C,l as w,O as L,R as M,a as D,u as S,D as b}from"./stats.module.6802f85e.js";import{A as E,S as P,P as v,F as T,C as y}from"./vendor.f1de933b.js";import{e as F,g as I}from"./assets.d9fd3e26.js";import{m as G}from"./makeCommonGUI.95201cda.js";const j=[],R=F.Dirlight,k=I.TeapotDraco,e=new C;e.bounces=5;e.renderWhenOffFocus=!0;e.toneMapping=E;e.envMapIntensity=1;e.enableDenoise=!0;e.enableTemporalDenoise=!1;e.enableSpatialDenoise=!0;document.body.appendChild(e.domElement);const s=document.querySelector("#container");function A(n){n?s.classList.contains("isLoading")||s.classList.add("isLoading"):s.classList.contains("isLoading")&&s.classList.remove("isLoading")}const c=!0,{initStats:x,initGUI:z,initCameraDebugInfo:O}=G();e.loadingCallback={onProgress:n=>console.log(n),onComplete:n=>{console.log(n),A(!1),U(),z(c,e)}};const r=x(c),d=O(c);let f=null,l=null;function U(){e.setDenoiseColorFactor(1),e.setDenoisePositionFactor(.15)}const o=new P;w(j,o);const i=new v(45,window.innerWidth/window.innerHeight,.001,1e3),m=new L(i,e.domElement);m.screenSpacePanning=!0;function W(n){const t=new b;t.transmission=1,t.extinction=new y(.015,.5,.4),t.atDistance=.05,t.roughness=.02,n.traverse(a=>{a.isMesh&&a.material&&a.material.isMeshStandardMaterial&&(a.material=t)})}async function q(){{const a=new M().setDataType(T),u=await new Promise(h=>{a.load(R,h)});o.environment=u}const t=(await D(k)).scene;W(t),o.add(t),t.rotation.y=-Math.PI/2,S(i,m,o),e.buildScene(o,i).then(()=>{g()})}function p(){if(e.domElement.parentElement){const n=e.domElement.parentElement.clientWidth,t=e.domElement.parentElement.clientHeight;e.setSize(n,t),i.aspect=n/t,i.updateProjectionMatrix()}}window.addEventListener("resize",p);p();function g(n){m.update(),r&&r.begin(),e.render(o,i),r&&r.end(),d&&(l=e.getTotalSamples(),f!=l&&(d.innerText=`Samples: ${l}`,f=l)),requestAnimationFrame(g)}q();
