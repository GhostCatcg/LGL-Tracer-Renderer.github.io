import{D as h,L as w,l as M,O as L,a as b,s as E}from"./stats.module.e4df766e.js";import{C as c,A as P,S as D,P as y}from"./vendor.4a9eae3d.js";import{s as I}from"./lightConfig.3bd48602.js";import{m as T}from"./makeCommonGUI.0143da18.js";async function v(){const n=new h({color:new c(1,1,1),metalness:.001,roughness:.001,clearcoat:1}),t=new h({color:new c(1,1,1),roughness:1}),a=new h({color:new c(0,0,0),metalness:1,roughness:.001});return[{material:t,meshName:["Cube_Cube001"]},{material:a,meshName:["Sphere004","Sphere005","Sphere006_Sphere005","Sphere007_Sphere004","Sphere016_Sphere010","Sphere017_Sphere011","Sphere018_Sphere012","Sphere019_Sphere013","Sphere030_Sphere013","Sphere031_Sphere012"]},{material:n,meshName:["Plane001","Plane002_Plane001","Sphere","Sphere001","Sphere002","Sphere003","Sphere008_Sphere003","Sphere009_Sphere002","Sphere010_Sphere001","Sphere011_Sphere","Sphere012_Sphere006","Sphere013_Sphere007","Sphere014_Sphere008","Sphere015_Sphere009","Sphere020_Sphere014","Sphere021_Sphere015","Sphere022_Sphere016","Sphere023_Sphere017","Sphere024_Sphere018","Sphere025_Sphere018","Sphere026_Sphere017","Sphere027_Sphere016","Sphere028_Sphere015","Sphere029_Sphere014"]}]}const F=I,j=E,e=new w;e.bounces=2;e.renderWhenOffFocus=!0;e.toneMapping=P;e.envMapIntensity=2;e.enableDenoise=!0;e.enableTemporalDenoise=!0;e.enableSpatialDenoise=!0;document.body.appendChild(e.domElement);const s=document.querySelector("#container");function k(n){n?s.classList.contains("isLoading")||s.classList.add("isLoading"):s.classList.contains("isLoading")&&s.classList.remove("isLoading")}const m=!0,{initStats:A,initGUI:G,initCameraDebugInfo:N}=T();e.loadingCallback={onProgress:n=>console.log(n),onComplete:n=>{console.log(n),k(!1),W(),G(m,e)}};const d=A(m),u=N(m);let f=null,i=null;function W(){e.setDenoiseColorFactor(1),e.setDenoisePositionFactor(.4)}const p=new D;M(F,p);const r=new y(60,window.innerWidth/window.innerHeight,.001,1e3),o=new L(r,e.domElement);o.screenSpacePanning=!0;function x(){r.position.set(-1,-.5,6.9),r.aperture=.065,o.target.y=-.4,o.update()}async function O(n){const t=await v();n.traverse(a=>{a.isMesh&&t.forEach(l=>{const C=l.meshName,S=l.material;if(~C.indexOf(a.name)){S?a.material=S:a.visible=!1;return}})})}async function z(){const t=(await b(j)).scene;await O(t),p.add(t),x(),e.buildScene(p,r).then(()=>{_()})}function g(){if(e.domElement.parentElement){const n=e.domElement.parentElement.clientWidth,t=e.domElement.parentElement.clientHeight;e.setSize(n,t),r.aspect=n/t,r.updateProjectionMatrix()}}window.addEventListener("resize",g);g();function _(n){o.update(),r.focus=o.target.distanceTo(r.position),d.begin(),e.render(p,r),d.end(),u&&(i=e.getTotalSamples(),f!=i&&(u.innerText=`Samples: ${i}`,f=i)),requestAnimationFrame(_)}z();
