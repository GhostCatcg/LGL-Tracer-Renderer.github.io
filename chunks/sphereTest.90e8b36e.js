import{L as C,l as b,O as y,R as E,u as M,D as P}from"./stats.module.6802f85e.js";import{S,P as v,F as L,T,C as G,au as D,a6 as I}from"./vendor.f1de933b.js";import{e as j}from"./assets.d9fd3e26.js";import{m as x}from"./makeCommonGUI.95201cda.js";const F=[],k=j.Dirlight,e=new C;e.renderWhenOffFocus=!1;e.envMapIntensity=1;e.bounces=3;document.body.appendChild(e.domElement);const l=!0;let c=!1;const{initStats:z,initGUI:R,initCameraDebugInfo:O}=x();e.loadingCallback={onProgress:n=>{console.log(n)},onComplete:n=>{c||R(l,e),c=!0,console.log(n)}};const s=z(l),d=O(l);let p=null,i=null;const a=new S;b(F,a);async function U(){const n="/images/alpha.png",o=await new Promise(w=>{new T().load(n,w)}),r=new P({color:new G(1,1,1),roughness:.5,metalness:0,ior:1.5,map:o}),h=new D(15,128,64),g=new I(h,r);a.add(g)}const t=new v(45,window.innerWidth/window.innerHeight,.001,1e3),m=new y(t,e.domElement);m.screenSpacePanning=!0;async function W(){{const n=new E().setDataType(L),o=await new Promise(r=>{n.load(k,r)});a.environment=o}await U(),M(t,m,a),t.position.y=0,t.position.z=45,e.buildScene(a,t).then(()=>{f()})}function u(){if(e.domElement.parentElement){const n=e.domElement.parentElement.clientWidth,o=e.domElement.parentElement.clientHeight;e.setSize(n,o),t.aspect=n/o,t.updateProjectionMatrix()}}window.addEventListener("resize",u);u();function f(n){m.update(),s&&s.begin(),e.render(a,t),s&&s.end(),d&&(i=e.getTotalSamples(),p!=i&&(d.innerText=`Samples: ${i}`,p=i)),requestAnimationFrame(f)}W();
